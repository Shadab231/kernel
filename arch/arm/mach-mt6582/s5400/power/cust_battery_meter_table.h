#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#define RBAT_PULL_DOWN_R		   30000 //27000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#define RBAT_PULL_DOWN_R		  100000	
#endif
#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-30,127476},
    	{-25,96862},
        {-20,74354},
        {-15,57626},
        {-10,45068},
        { -5,35548},
        {  0,28267},
        {  5,22650},
        { 10,18280},
        { 15,14855},
        { 20,12151},
        { 25,10000},
        { 30,8279},
        { 35,6892},
        { 40,5768},
        { 45,4852},
        { 50,4101},
        { 55,3483},
        { 60,2970},
        { 65,2544},
        { 70,2188},
        { 75,1889},
        { 80,1637}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0   , 4335},         
	{2   , 4303},         
	{3   , 4278},         
	{5   , 4255},         
	{7   , 4234},         
	{9   , 4213},         
	{10  , 4191},         
	{12  , 4170},         
	{14  , 4152},         
	{16  , 4132},         
	{17  , 4112},         
	{19  , 4092},         
	{21  , 4075},         
	{23  , 4059},         
	{24  , 4038},         
	{26  , 4014},         
	{28  , 3991},         
	{30  , 3969},         
	{31  , 3953},         
	{33  , 3938},         
	{35  , 3925},         
	{37  , 3911},         
	{38  , 3900},         
	{40  , 3888},         
	{42  , 3874},         
	{44  , 3863},         
	{45  , 3852},         
	{47  , 3842},         
	{49  , 3832},         
	{51  , 3823},         
	{52  , 3814},         
	{54  , 3807},         
	{56  , 3800},         
	{58  , 3792},         
	{59  , 3787},         
	{61  , 3782},         
	{63  , 3777},         
	{65  , 3775},         
	{66  , 3771},         
	{68  , 3769},         
	{70  , 3764},         
	{72  , 3761},         
	{73  , 3757},         
	{75  , 3754},         
	{77  , 3749},         
	{79  , 3744},         
	{80  , 3736},         
	{82  , 3729},         
	{84  , 3721},         
	{85  , 3713},         
	{87  , 3702},         
	{89  , 3693},         
	{91  , 3683},         
	{92  , 3672},         
	{94  , 3666},         
	{94  , 3661},         
	{95  , 3657},         
	{95  , 3655},         
	{95  , 3652},         
	{96  , 3648},         
	{96  , 3646},          
  	{96  , 3642},
  	{97  , 3640},
  	{97  , 3637},
  	{97  , 3635}
};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0   , 4343},         
	{2   , 4317},         
	{3   , 4293},         
	{5   , 4272},         
	{7   , 4252},         
	{9   , 4230},         
	{10  , 4210},         
	{12  , 4190},         
	{14  , 4170},         
	{16  , 4151},         
	{17  , 4133},         
	{19  , 4113},         
	{21  , 4095},         
	{23  , 4080},         
	{24  , 4063},         
	{26  , 4043},         
	{28  , 4020},         
	{30  , 4000},         
	{31  , 3983},         
	{33  , 3967},         
	{35  , 3951},         
	{37  , 3937},         
	{38  , 3921},         
	{40  , 3905},         
	{42  , 3890},         
	{44  , 3878},         
	{45  , 3867},         
	{47  , 3854},         
	{49  , 3845},         
	{51  , 3837},         
	{52  , 3827},         
	{54  , 3819},         
	{56  , 3813},         
	{58  , 3807},         
	{59  , 3800},         
	{61  , 3795},         
	{63  , 3790},         
	{65  , 3786},         
	{66  , 3782},         
	{68  , 3780},         
	{70  , 3777},         
	{72  , 3774},         
	{73  , 3770},         
	{75  , 3766},         
	{77  , 3762},         
	{79  , 3757},         
	{80  , 3751},         
	{82  , 3741},         
	{84  , 3733},         
	{86  , 3721},         
	{87  , 3709},         
	{89  , 3695},         
	{91  , 3686},         
	{93  , 3678},         
	{94  , 3667},         
	{96  , 3646},         
	{98  , 3576},         
	{99  , 3529},         
  	{99  , 3500},
	{99  , 3476},         
	{99  , 3460},          
  	{100 , 3444},
  	{100 , 3431},
  	{100 , 3418},
  	{100 , 3409}       
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0   , 4345},         
	{2   , 4319},         
	{3   , 4297},         
	{5   , 4275},         
	{7   , 4255},         
	{9   , 4234},         
	{10  , 4213},         
	{12  , 4194},         
	{14  , 4174},         
	{16  , 4154},         
	{17  , 4136},         
	{19  , 4117},         
	{21  , 4100},         
	{23  , 4081},         
	{24  , 4065},         
	{26  , 4048},         
	{28  , 4029},         
	{30  , 4013},         
	{31  , 3997},         
	{33  , 3984},         
	{35  , 3971},         
	{36  , 3957},         
	{38  , 3943},         
	{40  , 3930},         
	{42  , 3915},         
	{43  , 3899},         
	{45  , 3879},         
	{47  , 3863},         
	{49  , 3850},         
	{50  , 3841},         
	{52  , 3833},         
	{54  , 3823},         
	{56  , 3817},         
	{57  , 3811},         
	{59  , 3805},         
	{61  , 3797},         
	{62  , 3792},         
	{64  , 3788},         
	{66  , 3783},         
	{68  , 3781},         
	{69  , 3776},         
	{71  , 3774},         
	{73  , 3767},         
	{75  , 3760},         
	{76  , 3754},         
	{78  , 3748},         
	{80  , 3740},         
	{82  , 3734},         
	{83  , 3726},         
	{85  , 3715},         
	{87  , 3704},         
	{89  , 3690},         
	{90  , 3679},         
	{92  , 3676},         
	{94  , 3669},         
	{95  , 3658},         
	{97  , 3609},         
	{99  , 3509},         
	{100 , 3333},         
	{100 , 3175},         
	{100 , 3145},          
  	{100 , 3132},
  	{100 , 3121},
  	{100 , 3111},
  	{100 , 3101}
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0   , 4328},         
	{2   , 4299},         
	{4   , 4274},         
	{5   , 4252},         
	{7   , 4231},         
	{9   , 4210},         
	{11  , 4190},         
	{12  , 4170},         
	{14  , 4150},         
	{16  , 4131},         
	{18  , 4112},         
	{19  , 4093},         
	{21  , 4075},         
	{23  , 4058},         
	{25  , 4041},         
	{26  , 4024},         
	{28  , 4008},         
	{30  , 3992},         
	{32  , 3978},         
	{33  , 3963},         
	{35  , 3949},         
	{37  , 3935},         
	{39  , 3922},         
	{40  , 3909},         
	{42  , 3896},         
	{44  , 3880},         
	{46  , 3859},         
	{47  , 3843},         
	{49  , 3832},         
	{51  , 3823},         
	{53  , 3815},         
	{55  , 3807},         
	{56  , 3800},         
	{58  , 3793},         
	{60  , 3788},         
	{62  , 3781},         
	{63  , 3776},         
	{65  , 3772},         
	{67  , 3767},         
	{69  , 3763},         
	{70  , 3759},         
	{72  , 3752},         
	{74  , 3740},         
	{76  , 3733},         
	{77  , 3727},         
	{79  , 3719},         
	{81  , 3713},         
	{83  , 3706},         
	{84  , 3696},         
	{86  , 3684},         
	{88  , 3672},         
	{90  , 3660},         
	{91  , 3655},         
	{93  , 3649},         
	{95  , 3641},         
	{97  , 3608},         
	{98  , 3522},         
	{100 , 3383},         
	{100 , 3150},         
	{100 , 3119},         
	{100 , 3100},          
  	{100 , 3082},
  	{100 , 3063},
  	{100 , 3052},
  	{100 , 3051}       
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
  	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{835 , 4335},         
	{835 , 4303},         
	{837 , 4278},         
	{835 , 4255},         
	{838 , 4234},         
	{833 , 4213},         
	{822 , 4191},         
	{820 , 4170},         
	{823 , 4152},         
	{815 , 4132},         
	{813 , 4112},         
	{802 , 4092},         
	{803 , 4075},         
	{808 , 4059},         
	{803 , 4038},         
	{793 , 4014},         
	{785 , 3991},         
	{770 , 3969},         
	{768 , 3953},         
	{765 , 3938},         
	{762 , 3925},         
	{760 , 3911},         
	{762 , 3900},         
	{762 , 3888},         
	{758 , 3874},         
	{760 , 3863},         
	{760 , 3852},         
	{758 , 3842},         
	{758 , 3832},         
	{760 , 3823},         
	{763 , 3814},         
	{772 , 3807},         
	{775 , 3800},         
	{778 , 3792},         
	{788 , 3787},         
	{795 , 3782},         
	{803 , 3777},         
	{815 , 3775},         
	{832 , 3771},         
	{850 , 3769},         
	{870 , 3764},         
	{888 , 3761},         
	{905 , 3757},         
	{930 , 3754},         
	{953 , 3749},         
	{983 , 3744},         
	{1013, 3736},         
	{1050, 3729},         
	{1103, 3721},         
	{1163, 3713},         
	{1238, 3702},         
	{1338, 3693},         
	{1475, 3683},         
	{1630, 3672},         
	{1665, 3666},         
	{1653, 3661},         
	{1643, 3657},         
	{1638, 3655},         
	{1630, 3652},         
	{1620, 3648},         
	{1615, 3646},          
  	{1605, 3642},
  	{1600, 3640},
  	{1593, 3637},
  	{1588, 3635}	       
};                  
                    
// T1 0C            
R_PROFILE_STRUC r_profile_t1[] =
{                   
	{375 , 4343},         
	{375 , 4317},         
	{375 , 4293},         
	{377 , 4272},         
	{380 , 4252},         
	{378 , 4230},         
	{380 , 4210},         
	{380 , 4190},         
	{380 , 4170},         
	{382 , 4151},         
	{390 , 4133},         
	{388 , 4113},         
	{387 , 4095},         
	{398 , 4080},         
	{398 , 4063},         
	{400 , 4043},         
	{395 , 4020},         
	{390 , 4000},         
	{390 , 3983},         
	{385 , 3967},         
	{378 , 3951},         
	{375 , 3937},         
	{367 , 3921},         
	{360 , 3905},         
	{350 , 3890},         
	{350 , 3878},         
	{353 , 3867},         
	{343 , 3854},         
	{343 , 3845},         
	{345 , 3837},         
	{343 , 3827},         
	{345 , 3819},         
	{350 , 3813},         
	{353 , 3807},         
	{355 , 3800},         
	{357 , 3795},         
	{358 , 3790},         
	{360 , 3786},         
	{363 , 3782},         
	{370 , 3780},         
	{378 , 3777},         
	{383 , 3774},         
	{385 , 3770},         
	{390 , 3766},         
	{395 , 3762},         
	{408 , 3757},         
	{418 , 3751},         
	{420 , 3741},         
	{440 , 3733},         
	{460 , 3721},         
	{483 , 3709},         
	{518 , 3695},         
	{565 , 3686},         
	{643 , 3678},         
	{758 , 3667},         
	{955 , 3646},         
	{1280, 3576},         
	{1323, 3529},         
	{1250, 3500},         
	{1190, 3476},         
	{1150, 3460},          
  	{1110, 3444},
  	{1078, 3431},
  	{1045, 3418},
  	{1023, 3409}
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{153 , 4345},         
	{153 , 4319},         
	{153 , 4297},         
	{153 , 4275},         
	{153 , 4255},         
	{153 , 4234},         
	{153 , 4213},         
	{155 , 4194},         
	{158 , 4174},         
	{157 , 4154},         
	{160 , 4136},         
	{160 , 4117},         
	{165 , 4100},         
	{165 , 4081},         
	{168 , 4065},         
	{173 , 4048},         
	{170 , 4029},         
	{177 , 4013},         
	{177 , 3997},         
	{185 , 3984},         
	{188 , 3971},         
	{190 , 3957},         
	{190 , 3943},         
	{195 , 3930},         
	{178 , 3915},         
	{170 , 3899},         
	{155 , 3879},         
	{150 , 3863},         
	{148 , 3850},         
	{148 , 3841},         
	{148 , 3833},         
	{145 , 3823},         
	{140 , 3817},         
	{138 , 3811},         
	{138 , 3805},         
	{133 , 3797},         
	{135 , 3792},         
	{137 , 3788},         
	{137 , 3783},         
	{143 , 3781},         
	{143 , 3776},         
	{143 , 3774},         
	{143 , 3767},         
	{137 , 3760},         
	{135 , 3754},         
	{138 , 3748},         
	{133 , 3740},         
	{140 , 3734},         
	{138 , 3726},         
	{140 , 3715},         
	{143 , 3704},         
	{145 , 3690},         
	{145 , 3679},         
	{155 , 3676},         
	{163 , 3669},         
	{185 , 3658},         
	{188 , 3609},         
	{213 , 3509},         
	{290 , 3333},         
	{326 , 3175},         
	{363 , 3145},          
  	{330 , 3132},
  	{303 , 3121},
  	{278 , 3111},
  	{253 , 3101}		       
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{108 , 4328},         
	{108 , 4299},         
	{105 , 4274},         
	{105 , 4252},         
	{108 , 4231},         
	{110 , 4210},         
	{108 , 4190},         
	{110 , 4170},         
	{110 , 4150},         
	{110 , 4131},         
	{113 , 4112},         
	{110 , 4093},         
	{110 , 4075},         
	{113 , 4058},         
	{115 , 4041},         
	{115 , 4024},         
	{118 , 4008},         
	{118 , 3992},         
	{120 , 3978},         
	{123 , 3963},         
	{125 , 3949},         
	{125 , 3935},         
	{128 , 3922},         
	{133 , 3909},         
	{135 , 3896},         
	{133 , 3880},         
	{118 , 3859},         
	{110 , 3843},         
	{110 , 3832},         
	{110 , 3823},         
	{113 , 3815},         
	{110 , 3807},         
	{110 , 3800},         
	{110 , 3793},         
	{113 , 3788},         
	{113 , 3781},         
	{113 , 3776},         
	{117 , 3772},         
	{117 , 3767},         
	{117 , 3763},         
	{123 , 3759},         
	{117 , 3752},         
	{110 , 3740},         
	{110 , 3733},         
	{113 , 3727},         
	{107 , 3719},         
	{110 , 3713},         
	{113 , 3706},         
	{110 , 3696},         
	{110 , 3684},         
	{110 , 3672},         
	{115 , 3660},         
	{115 , 3655},         
	{120 , 3649},         
	{133 , 3641},         
	{130 , 3608},         
	{140 , 3522},         
	{168 , 3383},         
	{233 , 3150},         
	{298 , 3119},         
	{250 , 3100},          
  	{205 , 3082},
  	{158 , 3063},
  	{130 , 3052},
  	{128 , 3051}     
};            
              
// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

